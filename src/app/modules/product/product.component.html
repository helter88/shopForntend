<h1>Products</h1>
<mat-card *ngFor="let prod of products" class="mb-4">
  <div class="flex flex-row">
    <div class="flex-1">
      <mat-card-header>
      <mat-card-title><a class="hover:opacity-70" routerLink="{{prod.slug}}">{{prod.name}}</a></mat-card-title>
      <mat-card-subtitle>{{prod.category}}</mat-card-subtitle>
      </mat-card-header>
      <div class="flex flow-row pl-4">
        <a routerLink="{{prod.slug}}">
          <img *ngIf="!prod.image" src="/assets/image-placeholder.png" mat-card-lg-image>
          <img *ngIf="prod.image" src="{{'/api/data/productImages/' + prod.image}}" mat-card-lg-image>
        </a>
        
        <mat-card-content>{{prod.description}}</mat-card-content>
      </div>
    </div>
    <div class="p-4 flex flex-col">
      <span>{{prod.price + " "+ prod.currency}}</span>
      <span *ngIf="prod.discountPrice">{{prod.discountPrice + " "+ prod.currency}}</span>
    </div>
  </div>
  <mat-card-actions class="gap-4 m-4 justify-end">
    <button class="bg-blue-500 hover:bg-blue-700 text-white  py-2 px-4 rounded-full"
      routerLink="{{ prod.slug}}">Show</button>
    <button class="bg-red-400 hover:bg-red-700 text-white py-2 px-4 rounded-full"
      routerLink="/cart" [queryParams]="{productId: prod?.id}">Add to cart </button>
  </mat-card-actions>
</mat-card>
<mat-paginator [length]='totalElements'
              [pageSize]="10"
              [pageSizeOptions]="[10, 25, 50]"
              aria-label="Select page"
              (page)="onPageChange($event)">
</mat-paginator>